<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Gerador de Assinatura de Email - Overlabs</title>
  <link rel="icon" type="image/svg+xml" href="assets/icons/OS.svg">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;900&display=swap"
    rel="stylesheet">

  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Poppins', Arial, sans-serif;
      background: linear-gradient(135deg, #00beb2 0%, #0e4b4e 100%);
      min-height: 100vh;
      padding: 20px;
    }

    .container {
      margin: 0 auto;
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 40px;
      align-items: start;
    }

    .form-section {
      background: white;
      padding: 25px;
      border-radius: 15px;
      box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
      width: 100%;
      max-width: 500px;
    }

    .preview-section {
      background: white;
      padding: 25px;
      border-radius: 15px;
      box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
      position: sticky;
      top: 20px;
      max-width: 500px;
    }

    h1 {
      color: #333;
      margin-bottom: 20px;
      text-align: center;
      font-weight: 700;
      font-size: 24px;
    }

    .form-group {
      margin-bottom: 18px;
    }

    label {
      display: block;
      margin-bottom: 8px;
      color: #333;
      font-weight: 600;
      font-size: 14px;
    }

    input {
      width: 100%;
      padding: 12px;
      border: 2px solid #e1e5e9;
      border-radius: 8px;
      font-size: 14px;
      font-family: 'Poppins', Arial, sans-serif;
      transition: border-color 0.3s ease;
    }

    input:focus {
      outline: none;
      border-color: #00CED1;
    }

    select {
      width: 100%;
      padding: 12px;
      border: 2px solid #e1e5e9;
      border-radius: 8px;
      font-size: 14px;
      font-family: 'Poppins', Arial, sans-serif;
      transition: border-color 0.3s ease;
      background-color: white;
      cursor: pointer;
    }

    select:focus {
      outline: none;
      border-color: #00CED1;
    }

    .btn {
      background: #00beb2;
      color: white;
      padding: 12px 25px;
      border: none;
      border-radius: 8px;
      font-size: 15px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      width: 100%;
      font-family: 'Poppins', Arial, sans-serif;
    }

    .btn:hover {
      transform: translateY(-2px);
      background: #00948d;
    }

    .btn:active {
      transform: translateY(0);
      background: #00cfbf;
    }

    .copy-btn {
      background: #0e4b4e;
      margin-top: 20px;
    }

    .copy-btn:hover {
      background: #00948d;
    }

    .download-guide-btn:hover {
      background: #00948d;
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(0, 190, 178, 0.3);
    }

    .signature-preview {
      border: 2px solid #e1e5e9;
      border-radius: 10px;
      padding: 20px;
      background: white;
      max-width: 100%;
      overflow-x: auto;
    }

    .signature-preview table {
      max-width: 750px;
    }

    .logo-preview-container {
      display: flex;
      gap: 15px;
      flex-wrap: wrap;
      margin-top: 10px;
    }

    .logo-option {
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 10px;
      border: 2px solid #e1e5e9;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.3s ease;
      background: white;
      min-width: 80px;
    }

    .logo-option:hover {
      border-color: #00beb2;
      transform: translateY(-2px);
    }

    .logo-option.active {
      border-color: #00beb2;
      background: #f0f9f8;
    }

    .logo-preview {
      width: 40px;
      height: auto;
      margin-bottom: 5px;
    }

    .logo-option span {
      font-size: 12px;
      color: #666;
      text-align: center;
    }

    .checkbox-label {
      display: flex;
      align-items: center;
      cursor: pointer;
      font-size: 14px;
      color: #333;
      margin-bottom: 0;
    }

    .checkbox-label input[type="checkbox"] {
      display: none;
    }

    .checkmark {
      width: 20px;
      height: 20px;
      border: 2px solid #e1e5e9;
      border-radius: 4px;
      margin-right: 10px;
      position: relative;
      transition: all 0.3s ease;
    }

    .checkbox-label input[type="checkbox"]:checked+.checkmark {
      background: #00beb2;
      border-color: #00beb2;
    }

    .checkbox-label input[type="checkbox"]:checked+.checkmark::after {
      content: '';
      position: absolute;
      left: 5px;
      top: 1px;
      width: 6px;
      height: 10px;
      border: solid white;
      border-width: 0 2px 2px 0;
      transform: rotate(45deg);
    }

    .phone-fields,
    .qr-fields {
      transition: all 0.3s ease;
      opacity: 0;
      max-height: 0;
      overflow: hidden;
    }

    .phone-fields.show,
    .qr-fields.show {
      opacity: 1;
      max-height: 100px;
    }

    .qr-code-container {
      text-align: center;
      margin-top: 20px;
    }

    .qr-code-container canvas {
      border: 2px solid #00CED1;
      border-radius: 8px;
      padding: 5px;
      background: white;
    }

    .logo-bottom-right {
      position: fixed;
      bottom: 20px;
      right: 20px;
      z-index: 1000;
      pointer-events: none;
    }

    .logo-bottom-right img {
      filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.1));
      transition: opacity 0.3s ease;
      width: 200px;
      height: auto;
    }

    .logo-bottom-right img:hover {
      opacity: 1 !important;
    }

    @media (max-width: 768px) {
      .container {
        grid-template-columns: 1fr;
        gap: 20px;
      }

      .form-section,
      .preview-section {
        padding: 20px;
      }

      .logo-bottom-right {
        bottom: 10px;
        right: 10px;
      }
    }
  </style>
</head>

<body>
  <div class="container">
    <!-- Formulário -->
    <div class="form-section">
      <h1>Gerador de Assinatura</h1>

      <form id="signatureForm">
        <div class="form-group">
          <label for="nome">Nome Completo</label>
          <input type="text" id="nome" name="nome" placeholder="Digite seu nome completo" required>
        </div>

        <div class="form-group">
          <label for="cargo">Cargo</label>
          <input type="text" id="cargo" name="cargo" placeholder="Ex: Desenvolvedor Frontend" required>
        </div>


        <div class="form-group">
          <label for="email">Email</label>
          <input type="email" id="email" name="email" placeholder="seu.email@overlabs.com" required>
        </div>

        <div class="form-group">
          <label for="logo">Escolha o seu Logo</label>
          <div class="logo-preview-container">
            <div class="logo-option active" data-value="black">
              <img src="https://raw.githubusercontent.com/GuScarpim/gerador-assinatura/main/assets/logo/black.png"
                alt="Black Logo" class="logo-preview">
              <span>Logo Preto</span>
            </div>
            <div class="logo-option" data-value="tiffany">
              <img src="https://raw.githubusercontent.com/GuScarpim/gerador-assinatura/main/assets/logo/tiffany.png"
                alt="Tiffany Logo" class="logo-preview">
              <span>Logo Tiffany</span>
            </div>
            <div class="logo-option" data-value="white">
              <img src="https://raw.githubusercontent.com/GuScarpim/gerador-assinatura/main/assets/logo/white.png"
                alt="White Logo" class="logo-preview">
              <span>Logo Branco</span>
            </div>
          </div>
          <input type="hidden" id="logo" name="logo" value="black">
        </div>

        <div class="form-group">
          <label class="checkbox-label">
            <input type="checkbox" id="addPhone" name="addPhone">
            <span class="checkmark"></span>
            Deseja adicionar o seu celular?
          </label>
        </div>

        <div class="form-group phone-fields" style="display: none;">
          <label for="telefone">Telefone WhatsApp</label>
          <input type="tel" id="telefone" name="telefone" placeholder="Ex: 11960625389">
        </div>

        <div class="form-group qr-fields" style="display: none;">
          <label class="checkbox-label">
            <input type="checkbox" id="addQRCode" name="addQRCode" checked>
            <span class="checkmark"></span>
            Adicionar QR Code WhatsApp
          </label>
        </div>

        <button type="submit" class="btn" id="generateBtn">Gerar Assinatura</button>
      </form>

      <!-- Mensagem de instruções -->
      <div style="margin-top: 25px; padding: 20px; background: #f8f9fa; border-radius: 10px; border-left: 4px solid #00beb2;">
        <h3 style="margin: 0 0 10px 0; color: #333; font-size: 16px; font-weight: 600;">
          📋 Como adicionar a assinatura no seu email
        </h3>
        <p style="margin: 0 0 15px 0; color: #666; font-size: 14px; line-height: 1.5;">
          Baixe o guia completo com instruções passo a passo para configurar sua nova assinatura no Outlook, Gmail e outros clientes de email.
        </p>
        <a href="assets/Overlabs - Passo a Passo Troca de Assinatura.pdf" 
           download="Overlabs - Passo a Passo Troca de Assinatura.pdf"
           class="download-guide-btn"
           style="display: inline-flex; align-items: center; gap: 8px; background: #00beb2; color: white; padding: 10px 20px; text-decoration: none; border-radius: 6px; font-weight: 600; font-size: 14px; transition: all 0.3s ease;">
          <span>📄</span>
          Baixar Guia Completo
        </a>
      </div>
    </div>

    <!-- Preview -->
    <div class="preview-section">
      <h1>Preview da Assinatura</h1>

      <div class="signature-preview" id="signaturePreview">
        <p style="text-align: center; color: #666; font-style: italic;">
          Preencha o formulário para ver a preview da sua assinatura
        </p>
      </div>
      
      <!-- Mensagem informativa sobre alinhamento -->
      <div id="alignmentInfo" style="display: none; margin-top: 15px; padding: 15px; background: #fff3cd; border: 1px solid #ffeaa7; border-radius: 8px;">
        <p style="margin: 0; color: #856404; font-size: 13px; line-height: 1.4;">
          <strong>ℹ️ Informação:</strong> Os textos podem aparecer desalinhados no preview, mas isso é normal. 
          Quando você copiar e colar a assinatura no seu cliente de email (Outlook, Gmail, etc.), 
          os elementos ficarão perfeitamente alinhados conforme o design original.
        </p>
      </div>

      <button class="btn copy-btn" id="copyBtn" style="display: none;">Copiar Assinatura</button>
    </div>
  </div>

  <!-- Logo no canto inferior direito -->
  <div class="logo-bottom-right">
    <img src="https://github.com/GuScarpim/gerador-assinatura/blob/main/assets/logo/OverLabsWhite.png?raw=true"
      alt="Overlabs Logo">
  </div>

  <script>
    document.getElementById('signatureForm').addEventListener('submit', function (e) {
      e.preventDefault();
      generateSignature();
    });

    // Logo selection
    document.querySelectorAll('.logo-option').forEach(option => {
      option.addEventListener('click', function () {
        // Remove active class from all options
        document.querySelectorAll('.logo-option').forEach(opt => opt.classList.remove('active'));
        // Add active class to clicked option
        this.classList.add('active');
        // Update hidden input value
        document.getElementById('logo').value = this.dataset.value;
      });
    });

    // Phone fields toggle
    document.getElementById('addPhone').addEventListener('change', function () {
      const phoneFields = document.querySelector('.phone-fields');
      const qrFields = document.querySelector('.qr-fields');

      if (this.checked) {
        phoneFields.style.display = 'block';
        phoneFields.classList.add('show');
        qrFields.style.display = 'block';
        qrFields.classList.add('show');
      } else {
        phoneFields.classList.remove('show');
        qrFields.classList.remove('show');
        setTimeout(() => {
          phoneFields.style.display = 'none';
          qrFields.style.display = 'none';
        }, 300);
      }
    });

    // QR Code toggle
    document.getElementById('addQRCode').addEventListener('change', function () {
      // Este checkbox controla se o QR Code será gerado quando o telefone estiver preenchido
    });

    async function generateSignature() {
      const generateBtn = document.getElementById('generateBtn');
      const originalText = generateBtn.textContent;

      // Mostrar loading
      generateBtn.textContent = 'Carregando...';
      generateBtn.disabled = true;

      const nome = document.getElementById('nome').value;
      const cargo = document.getElementById('cargo').value;
      const email = document.getElementById('email').value;
      const logo = document.getElementById('logo').value;
      const addPhone = document.getElementById('addPhone').checked;
      const addQRCode = document.getElementById('addQRCode').checked;
      let telefone = document.getElementById('telefone').value.trim();

      // Adicionar 55 automaticamente se não estiver presente
      if (telefone && !telefone.startsWith('55')) {
        telefone = '55' + telefone;
      }

      const includeQRCode = addPhone && addQRCode && telefone.length > 0; // Mostrar QR code apenas se ambos checkboxes estiverem marcados e telefone preenchido

      // Função para gerar a assinatura
      const generateSignatureHTML = (qrCodeDataUrl = null) => {
        // Determinar a URL do logo baseado na seleção (usando URLs diretas do GitHub)
        let logoUrl;
        switch (logo) {
          case 'black':
            logoUrl = 'https://raw.githubusercontent.com/GuScarpim/gerador-assinatura/main/assets/logo/black.png';
            break;
          case 'tiffany':
            logoUrl = 'https://raw.githubusercontent.com/GuScarpim/gerador-assinatura/main/assets/logo/tiffany.png';
            break;
          case 'white':
            logoUrl = 'https://raw.githubusercontent.com/GuScarpim/gerador-assinatura/main/assets/logo/white.png';
            break;
          default:
            logoUrl = 'https://raw.githubusercontent.com/GuScarpim/gerador-assinatura/main/assets/logo/black.png';
        }

        // Gerar HTML da assinatura
        const signatureHTML = `
                     <table cellpadding="0" cellspacing="0" border="0" style="min-width: 820px; max-width: 2000px; border-collapse: collapse;">
            <tr>
                             <td style="vertical-align: middle; text-align: center; width: 20px;">
                 <img src="${logoUrl}"
                   alt="Overlabs Logo" style="min-width: 120px;min-height: 120px;display: block;max-width: 120px;max-width: 120px;"
                   onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
               </td>

                             <td style="width: 0px; vertical-align: middle;">
                 <table cellpadding="0" cellspacing="0" border="0" style="width: 100%; height: 100%;">
                   <tr>
                     <td style="vertical-align: middle; text-align: center;">
                       <table cellpadding="0" cellspacing="0" border="0"
                         style="width: 15px; height: 80px; border: none; border-right: 2px solid #000; margin: 0 auto;">
                         <tr>
                           <td style="width: 2px; height: 80px; border-radius: 4px;"></td>
                         </tr>
                       </table>
                     </td>
                   </tr>
                 </table>
               </td>

                             <td style="vertical-align: top; padding: 0px 10px;">
                <table cellpadding="0" cellspacing="0" border="0" style="width: 100%;">
                  <tr>
                    <td style="vertical-align: top; width: ${includeQRCode ? '80%' : '100%'}; max-width: 400px;">
                                             <h2
                         style="margin: 0 0 0 0; font-size: 14px; font-weight: 900; color: #000000 !important; font-family: 'Poppins', Arial, sans-serif;">
                         ${nome}
                       </h2>
                                             <p
                         style="margin: 0 0 4px 0; font-size: 12px; color: #666666; font-family: 'Poppins', Arial, sans-serif;">
                         ${cargo}
                       </p>

                      <table cellpadding="0" cellspacing="0" border="0" style="margin-bottom: 4px;">
                        <tr>
                          <td style="width: 60px; height: 3px; background-color: #00CED1;"></td>
                        </tr>
                      </table>

                      ${addPhone && telefone ? `
                      <table cellpadding="0" cellspacing="0" border="0" style="margin-bottom: 4px;">
                        <tr>
                          <td style="vertical-align: middle; padding-right: 10px;">
                                                                                      <img src="https://raw.githubusercontent.com/GuScarpim/gerador-assinatura/main/assets/icons/phone.png"
                               alt="Phone" style="width: 16px; height: 16px; display: block;">
                          </td>
                          <td style="vertical-align: middle;">
                            <a href="https://api.whatsapp.com/send?phone=${telefone}&text=Ol%C3%A1!"
                               style="color: #000000; text-decoration: none; font-size: 12px; font-family: 'Poppins', Arial, sans-serif;">
                               + ${telefone.replace(/(\d{2})(\d{2})(\d{4})(\d{4})/, '$1 $2 $3-$4')}
                            </a>
                          </td>
                        </tr>
                      </table>
                      ` : ''}

                     <table cellpadding="0" cellspacing="0" border="0" style="margin-bottom:4px;width:100%; max-width: 460px; border-collapse: collapse;">
                      <tr>
                        <td style="vertical-align:top;font-family:'Poppins',Arial,sans-serif;font-size:12px;line-height: 16px;">
                          <table cellpadding="0" cellspacing="0" border="0" style="border-collapse: collapse;">
                            <tr>
                              <td style="vertical-align:top;padding-right:8px;padding-top:1px;">
                                <img src="https://raw.githubusercontent.com/GuScarpim/gerador-assinatura/main/assets/icons/mail.png"
                                    width="16" height="16" style="display:block;border:0;outline:none;text-decoration:none;" alt="Email">
                              </td>
                              <td style="vertical-align:top;">
                                                                 <a href="mailto:${email}" style="color:#000000;text-decoration:none;font-size:12px;line-height:16px;">
                                   ${email}
                                 </a>
                              </td>
                            </tr>
                          </table>
                        </td>
                        <td style="vertical-align:top;text-align:right;font-family:'Poppins',Arial,sans-serif;font-size:12px;line-height: 16px;">
                          <table cellpadding="0" cellspacing="0" border="0" style="border-collapse: collapse;">
                            <tr>
                              <td style="vertical-align:top;padding-right:8px;padding-top:1px;">
                                <img src="https://raw.githubusercontent.com/GuScarpim/gerador-assinatura/main/assets/icons/site.png"
                                    width="16" height="16" style="display:block;border:0;outline:none;text-decoration:none;" alt="Site">
                              </td>
                              <td style="vertical-align:top;">
                                <a href="https://overlabs.com" style="color:#000000;text-decoration:none;font-size:12px;line-height:16px;">
                                  overlabs.com
                                </a>
                              </td>
                            </tr>
                          </table>
                        </td>
                      </tr>
                    </table>






                      <table cellpadding="0" cellspacing="0" border="0" style="margin-bottom: 4px; width: max-content;">
                        <tr>
                          <td style="vertical-align: top; padding-right: 10px;">
                                                                                      <img src="https://raw.githubusercontent.com/GuScarpim/gerador-assinatura/main/assets/icons/loc.png"
                               alt="Location" style="width: 16px; height: 16px; display: block;">
                          </td>
                          <td style="vertical-align: top;">
                            <span
                                                             style="color: #000000;font-size: 12px;line-height: 1.65;font-family: 'Poppins', Arial, sans-serif;">
                              Av. das Nações Unidas, 14261, Torre A, 5° Andar – São Paulo/SP – Brasil
                            </span>
                          </td>
                        </tr>
                      </table>

                      <table cellpadding="0" cellspacing="0" border="0">
                        <tr>
                          <td style="vertical-align: middle; padding-right: 15px;">
                            <table cellpadding="0" cellspacing="0" border="0">
                              <tr>
                                <td style="width: 60px; height: 3px; background-color: #00CED1;"></td>
                              </tr>
                            </table>
                          </td>
                          <td style="vertical-align: middle; padding-right: 10px;">
                            <a href="https://www.linkedin.com/company/overlabs-com" style="text-decoration: none;">
                              <img
                                                                 src="https://raw.githubusercontent.com/GuScarpim/gerador-assinatura/main/assets/icons/linkedin.png"
                                alt="LinkedIn" style="width: 20px; height: 20px; display: block;">
                            </a>
                          </td>
                          <td style="vertical-align: middle;">
                            <a href="https://www.instagram.com/overlabs.tech" style="text-decoration: none;">
                              <img
                                                                 src="https://raw.githubusercontent.com/GuScarpim/gerador-assinatura/main/assets/icons/instagram.png"
                                alt="Instagram" style="width: 20px; height: 20px; display: block;">
                            </a>
                          </td>
                        </tr>
                      </table>
                    </td>

                    ${includeQRCode ? `
                    <td style="vertical-align: top; width: 20%; text-align: right;">
                      <table cellpadding="0" cellspacing="0" border="0">
                        <tr>
                          <td style="vertical-align: middle; text-align: center;">
                            <img src="${qrCodeDataUrl}"
                                alt="QR Code WhatsApp"
                                style="width: 75px; height: 75px; display: block; border: 2px solid #00CED1; border-radius: 6px; object-fit: contain;">
                          </td>
                        </tr>
                      </table>
                    </td>
                    ` : ''}
                  </tr>
                </table>
              </td>
            </tr>
          </table>
        `;

        // Exibir preview
        document.getElementById('signaturePreview').innerHTML = signatureHTML;
        document.getElementById('copyBtn').style.display = 'block';
        document.getElementById('alignmentInfo').style.display = 'block';

        // Armazenar HTML para cópia
        window.signatureHTML = signatureHTML;

        // Restaurar botão
        generateBtn.textContent = originalText;
        generateBtn.disabled = false;
      };

      // Se QR Code for solicitado, gerar primeiro (apenas se telefone for preenchido)
      if (includeQRCode && telefone) {
        try {
          // Gerar QR Code do WhatsApp usando API online
          const whatsappUrl = `https://api.whatsapp.com/send?phone=${telefone}&text=Ol%C3%A1!`;
          const encodedUrl = encodeURIComponent(whatsappUrl);

          const qrCodeDataUrl = `https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${encodedUrl}&format=png&margin=10&ecc=H`;

          // Gerar assinatura com QR Code
          generateSignatureHTML(qrCodeDataUrl);
        } catch (error) {
          console.error('Erro ao gerar QR Code:', error);
          generateSignatureHTML();
        }
      } else {
        generateSignatureHTML();
      }
    }

    // Função para copiar o HTML da assinatura de forma compatível com clientes de email
    document.getElementById('copyBtn').addEventListener('click', function () {
      // Obter o HTML da assinatura
      const previewElement = document.getElementById('signaturePreview');
      const signatureHTML = previewElement.innerHTML;

      // Criar uma versão limpa do HTML para compatibilidade com clientes de email
      const cleanHTML = signatureHTML
        .replace(/<tbody>/g, '')
        .replace(/<\/tbody>/g, '')
        .replace(/<!--[\s\S]*?-->/g, '')
        .replace(/\s+/g, ' ')
        .trim();

      // Criar elemento temporário para copiar HTML
      const tempDiv = document.createElement('div');
      tempDiv.innerHTML = cleanHTML;
      tempDiv.style.position = 'fixed';
      tempDiv.style.left = '-9999px';
      tempDiv.style.top = '-9999px';
      document.body.appendChild(tempDiv);

      // Selecionar o conteúdo
      const range = document.createRange();
      range.selectNodeContents(tempDiv);

      const selection = window.getSelection();
      selection.removeAllRanges();
      selection.addRange(range);

      try {
        document.execCommand('copy');

        // Feedback visual
        const btn = this;
        const originalText = btn.textContent;
        btn.textContent = 'Assinatura Copiada!';
        btn.style.background = '#00cfbf';

        setTimeout(() => {
          btn.textContent = originalText;
          btn.style.background = '#0e4b4e';
        }, 2000);
      } catch (e) {
        console.error('Erro ao copiar:', e);

        // Feedback visual de erro
        const btn = this;
        const originalText = btn.textContent;
        btn.textContent = 'Erro ao Copiar!';
        btn.style.background = '#ff4d4d';

        setTimeout(() => {
          btn.textContent = originalText;
          btn.style.background = '#0e4b4e';
        }, 2000);
      }

      // Limpar
      document.body.removeChild(tempDiv);
      selection.removeAllRanges();
    });

    // Formatação automática do telefone
    document.getElementById('telefone').addEventListener('input', function (e) {
      let value = e.target.value.replace(/\D/g, '');

      // Limitar a 11 dígitos (DDD + número)
      if (value.length > 11) {
        value = value.substring(0, 11);
      }

      e.target.value = value;
    });
  </script>
</body>

</html>